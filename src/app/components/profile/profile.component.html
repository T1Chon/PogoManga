<div class="flex gap-5 justify-around py-4">

  <div class="flex flex-col w-fit">
    <h3>INFORMACION PERSONAL</h3>
    <label for="usuario">usuario:</label>
    <input type="text" name="usuario" id="usuario" [(ngModel)]="user.usuario">
    <label for="nombre">nombre:</label>
    <input type="text" name="nombre" id="nombre" [(ngModel)]="user!.nombre">
    <label for="apellido1">apellido:</label>
    <input type="text" name="apellido1" id="apellido1" [(ngModel)]="user!.apellido1">
    <label for="apellido2">apellido:</label>
    <input type="text" name="apellido2" id="apellido2" [(ngModel)]="user!.apellido2">
    <label for="correo">correo:</label>
    <input type="text" name="correo" id="correo" [(ngModel)]="user!.correo">
    <button class="p-2 bg-teal-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="updateUser()">Actualizar Información Personal</button>
  </div>

  @if (direcciones && direcciones.length > 0) {
    <div class="flex flex-col w-fit">
      <h3>DIRECCIONES</h3>
      @for (item of direcciones; track $index) {
        <label for="pais">pais:</label>
        <input type="text" name="pais" id="pais" [(ngModel)]="item.pais">
        <label for="provincia">provincia:</label>
        <input type="text" name="provincia" id="provincia" [(ngModel)]="item.provincia">
        <label for="ciudad">ciudad:</label>
        <input type="text" name="ciudad" id="ciudad" [(ngModel)]="item.ciudad">
        <label for="codigo_postal">codigo_postal:</label>
        <input type="text" name="codigo_postal" id="codigo_postal" [(ngModel)]="item.codigo_postal">
        <label for="calle">calle:</label>
        <input type="text" name="calle" id="calle" [(ngModel)]="item.calle">
        <label for="piso">piso:</label>
        <input type="text" name="piso" id="piso" [(ngModel)]="item.piso">
        <label for="puerta">puerta:</label>
        <input type="text" name="puerta" id="puerta" [(ngModel)]="item.puerta">
        <button class="p-2 bg-teal-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="updateDireccion(item.id_direccion, item)">Actualizar Dirección</button>
        <button class="p-2 bg-red-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="eliminarDireccion(item.id_direccion)">Eliminar Dirección</button>

      }
    </div>
  } @else {
    <h3>Todavía no tienes ninguna dirección</h3>

  }

    <div class="flex flex-col w-fit">
      <h3>Nueva direccción</h3>

      @if (!agregandoDireccion) {
        <button class="p-2 bg-teal-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="agregarDireccion()">Agregar Nueva Dirección</button>
      }
      @if (agregandoDireccion) {

        <label for="pais">pais:</label>
        <input type="text" name="pais" id="nuevaDireccionPais" [(ngModel)]="nuevaDireccion.pais">
        <label for="provincia">provincia:</label>
        <input type="text" name="provincia" id="nuevaDireccionProvincia" [(ngModel)]="nuevaDireccion.provincia">
        <label for="ciudad">ciudad:</label>
        <input type="text" name="ciudad" id="nuevaDireccionCiudad" [(ngModel)]="nuevaDireccion.ciudad">
        <label for="codigo_postal">codigo_postal:</label>
        <input type="text" name="codigo_postal" id="nuevaDireccionCodigo_postal" [(ngModel)]="nuevaDireccion.codigo_postal">
        <label for="calle">calle:</label>
        <input type="text" name="calle" id="nuevaDireccionCalle" [(ngModel)]="nuevaDireccion.calle">
        <label for="piso">piso:</label>
        <input type="text" name="piso" id="nuevaDireccionPiso" [(ngModel)]="nuevaDireccion.piso">
        <label for="puerta">puerta:</label>
        <input type="text" name="puerta" id="nuevaDireccionPuerta" [(ngModel)]="nuevaDireccion.puerta">
        <button class="p-2 bg-teal-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="confirmarNuevaDireccion()">Guardar Dirección</button>
        <button class="p-2 bg-red-500 text-white rounded-lg mt-2 w-fit mx-auto" (click)="cancelarAgregarDireccion()">Cancelar</button>
      }

    </div>
</div>

